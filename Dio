-- Self-Reinjecting Loader

local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")
local LocalPlayer = Players.LocalPlayer
local HttpService = game:GetService("HttpService")

-- Replace with your raw script URL
local SCRIPT_URL = "https://raw.githubusercontent.com/Mr-Dark-v2/Purple/refs/heads/main/Koko"

-- Function to execute the main script
local function executeMainScript()
    local success, source = pcall(function()
        return game:HttpGet(SCRIPT_URL)
    end)
    if success and source then
        local func, err = loadstring(source)
        if func then
            pcall(func)
        else
            warn("Failed to load script:", err)
        end
    else
        warn("Failed to fetch script")
    end
end

-- Initial execution
executeMainScript()

-- Re-execute on character respawn
LocalPlayer.CharacterAdded:Connect(function()
    executeMainScript()
end)

-- Re-execute on server teleport
Players.LocalPlayer.OnTeleport:Connect(function(state)
    if state == Enum.TeleportState.Completed then
        task.wait(1)
        executeMainScript()
    end
end)

--============================
--|| SELF-REINJECTING LOADER
--============================
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local HttpService = game:GetService("HttpService")
local TeleportService = game:GetService("TeleportService")

-- Replace this with your raw script URL
local SCRIPT_URL = "https://raw.githubusercontent.com/Mr-Dark-v2/Purple/refs/heads/main/Koko"

-- Function to fetch and execute main script
local function executeMainScript()
    local success, source = pcall(function()
        return game:HttpGet(SCRIPT_URL)
    end)
    if success and source then
        local func, err = loadstring(source)
        if func then
            pcall(func)
        else
            warn("Failed to load script:", err)
        end
    else
        warn("Failed to fetch script")
    end
end

-- Initial execution
executeMainScript()

-- Re-execute on respawn
LocalPlayer.CharacterAdded:Connect(function()
    executeMainScript()
end)

-- Optional: add a manual rejoin command
local function rejoinServer()
    TeleportService:Teleport(game.PlaceId, LocalPlayer)
end

-- Example: Bind to key "R" to rejoin
local UserInputService = game:GetService("UserInputService")
UserInputService.InputBegan:Connect(function(input, processed)
    if processed then return end
    if input.KeyCode == Enum.KeyCode.R then
        rejoinServer()
    end
end)
